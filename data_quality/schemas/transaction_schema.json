{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Transaction",
    "description": "Schema for transaction data",
    "type": "object",
    "required": [
        "transaction_id",
        "customer_id",
        "product_id",
        "transaction_date",
        "quantity",
        "unit_price",
        "total_amount"
    ],
    "properties": {
        "transaction_id": {
            "type": "string"
        },
        "customer_id": {
            "type": "string",
            "pattern": "^CUST-\\d{6}$"
        },
        "product_id": {
            "type": "string",
            "pattern": "^PROD-\\d{4}$"
        },
        "transaction_date": {
            "type": "string",
            "format": "date-time"
        },
        "quantity": {
            "type": "integer",
            "minimum": 1
        },
        "unit_price": {
            "type": "number",
            "exclusiveMinimum": 0
        },
        "discount_amount": {
            "type": "number",
            "minimum": 0
        },
        "total_amount": {
            "type": "number",
            "exclusiveMinimum": 0
        },
        "payment_method": {
            "type": "string",
            "enum": [
                "credit_card",
                "debit_card",
                "paypal",
                "apple_pay",
                "google_pay"
            ]
        },
        "channel": {
            "type": "string",
            "enum": [
                "web",
                "mobile_app",
                "tablet",
                "in_store",
                "phone"
            ]
        },
        "store_id": {
            "type": "string"
        }
    },
    "additionalProperties": false
}